{% extends 'admin/adminindex.html' %}
{% load static %}

{% block content %}
<table class="table">
  <thead>
    <tr>
      <th scope="col">S.no</th>
      <th scope="col">Patient Name</th>


      <th scope="col">Doctor</th>
      <th scope="col">Appointment Date</th>
      <th scope="col">Appointment Time</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
      {% for appointment in appointment_list %}
      <tr>
        <th scope="row">{{ forloop.counter }}</th>
        <td>{{ appointment.user }}</td>


        <td>{{ appointment.doctor }}</td>
        <td>{{ appointment.date }}</td>
        <td>{{ appointment.time }}</td>
       <td> {% if appointment.patient_prescription %}
            {% if appointment.patient_prescription.status == 'Completed' %}
              <span class="badge bg-success">Completed</span>
            {% else %}
              <span class="badge bg-danger">Pending</span>
            {% endif %}
          {% else %}
            <span class="badge bg-danger">Pending</span>
          {% endif %}</td>
      </tr>
       {% empty %}
        <tr>
            <td colspan="5">No appointments available.</td>
        </tr>
      {% endfor %}
  </tbody>
</table>
{% endblock %}
